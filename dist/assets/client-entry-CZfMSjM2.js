const A="growi-plugin-remark-youtube",j="1.0.0",G="GROWI plugin embed YouTube video",x="MIT",F=["growi","growi-plugin"],R="module",E={dev:"vite",build:"tsc && vite build",preview:"vite preview"},I={react:"^18.3.1","react-dom":"^18.3.1","react-innertext":"^1.1.5",unified:"^11.0.5","unist-util-visit":"^5.0.0"},N={"@types/react":"^18.3.3","@types/react-dom":"^18.3.0","@typescript-eslint/eslint-plugin":"^5.0.0","@typescript-eslint/parser":"^5.0.0","@vitejs/plugin-react":"^4.3.1",eslint:"^8.18.0","eslint-config-next":"^14.2.4","eslint-config-weseek":"^2.1.0","eslint-import-resolver-typescript":"^3.2.5","eslint-plugin-import":"^2.29.1","eslint-plugin-jest":"^27.1.0","eslint-plugin-react":"^7.30.1","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-regex":"^1.10.0",jest:"^29.7.0",typescript:"^5.5.2",vite:"^5.3.2"},T={schemaVersion:"4",types:["script"]},V={name:A,version:j,description:G,license:x,keywords:F,type:R,scripts:E,dependencies:I,devDependencies:N,growiPlugin:T},k=function(e){if(e==null)return Y;if(typeof e=="function")return w(e);if(typeof e=="object")return Array.isArray(e)?$(e):D(e);if(typeof e=="string")return C(e);throw new Error("Expected function, string, or object as test")};function $(e){const i=[];let t=-1;for(;++t<e.length;)i[t]=k(e[t]);return w(n);function n(...r){let o=-1;for(;++o<i.length;)if(i[o].apply(this,r))return!0;return!1}}function D(e){const i=e;return w(t);function t(n){const r=n;let o;for(o in e)if(r[o]!==i[o])return!1;return!0}}function C(e){return w(i);function i(t){return t&&t.type===e}}function w(e){return i;function i(t,n,r){return!!(B(t)&&e.call(this,t,typeof n=="number"?n:void 0,r||void 0))}}function Y(){return!0}function B(e){return e!==null&&typeof e=="object"&&"type"in e}const O=[],K=!0,v=!1,L="skip";function M(e,i,t,n){let r;typeof i=="function"&&typeof t!="function"?(n=t,t=i):r=i;const o=k(r),a=n?-1:1;y(e,void 0,[])();function y(c,g,s){const l=c&&typeof c=="object"?c:{};if(typeof l.type=="string"){const u=typeof l.tagName=="string"?l.tagName:typeof l.name=="string"?l.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(c.type+(u?"<"+u+">":""))+")"})}return m;function m(){let u=O,f,p,h;if((!i||o(c,g,s[s.length-1]||void 0))&&(u=S(t(c,s)),u[0]===v))return u;if("children"in c&&c.children){const d=c;if(d.children&&u[0]!==L)for(p=(n?d.children.length:-1)+a,h=s.concat(d);p>-1&&p<d.children.length;){const P=d.children[p];if(f=y(P,p,h)(),f[0]===v)return f;p=typeof f[1]=="number"?f[1]:p+a}}return u}}}function S(e){return Array.isArray(e)?e:typeof e=="number"?[K,e]:e==null?O:[e]}function U(e,i,t,n){let r,o,a;o=i,a=t,r=n,M(e,o,y,r);function y(c,g){const s=g[g.length-1],l=s?s.children.indexOf(c):void 0;return a(c,l,s)}}const b=function(){return e=>{U(e,"leafGrowiPluginDirective",i=>{const t=i;try{if(t.name==="youtube"){const n=Object.keys(t.attributes)[0],{width:r,height:o}=t.attributes;t.type="html",t.value=`<div style="width: 100%; aspect-ratio: 16/9">
            <iframe
              width="${r||"560"}"
              height="${o||"315"}"
              src="https://www.youtube.com/embed/${n}"
              title="YouTube video player"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
            </iframe>
          </div>
          `}}catch(n){t.type="html",t.value=`<div style="color: red;">Error: ${n.message}</div>`}})}},W=()=>{if(growiFacade==null||growiFacade.markdownRenderer==null)return;const{optionsGenerators:e}=growiFacade.markdownRenderer,i=e.customGenerateViewOptions;e.customGenerateViewOptions=(...n)=>{const r=i?i(...n):e.generateViewOptions(...n);return r.remarkPlugins.push(b),r};const t=e.customGeneratePreviewOptions;e.customGeneratePreviewOptions=(...n)=>{const r=t?t(...n):e.generatePreviewOptions(...n);return r.remarkPlugins.push(b),r}},X=()=>{};window.pluginActivators==null&&(window.pluginActivators={});window.pluginActivators[V.name]={activate:W,deactivate:X};
